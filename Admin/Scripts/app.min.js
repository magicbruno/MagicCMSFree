function fix_sidebar(){if($("body").hasClass("fixed")){var n=$(window).height()-$(".header").height();test?$(".sidebar").slimscroll({height:n+"px",color:"rgba(2555,2555,255,0.6)",size:"5px"}):$(".sidebar, .slimScrollDiv").css("height",n+"px");test=!1}}var left_side_width,test;Date.prototype.toISOString||function(){function n(n){return n<10?"0"+n:n}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}();$(document).ready(function(){var n,t,i;$(".btn[title]").tooltip({trigger:"hover",container:"body",viewport:{selector:"body",padding:0}}).on("click",function(){$(this).tooltip("hide")});bootbox.setDefaults({locale:"it"});n=localStorage.getItem("openSub");n&&$("#"+n+" ul").slideDown();t=window.location.pathname;$('[href="'+t.substr(1)+'"]').parent().addClass("active");i="http://"+window.location.host+"/Admin/Scripts/plugins/ckeditor/config.js";CKEDITOR.plugins.addExternal("onchange","/Admin/Scripts/plugins/ckeditor/onchange/");CKEDITOR.on("instanceCreated",function(n){n.editor.on("change",function(n){$(n.editor.element.$).change()})});$(".ckeditor_mcms").not(".hidden").spin().ckeditor(function(n){$(n).spin(!1)},{customConfig:i});$(".numeric").numeric({decimalPlaces:0});$(".float").numeric({decimalPlaces:2,decimal:","});$(document).off(".datepicker.data-api");$(".datepicker").datepicker({autoclose:"true",language:"it",todayBtn:!0,todayHighlight:!0,weekStart:1,format:"dd/mm/yyyy"}).on("changeDate",function(){var n=$(this);n.attr("data-dateiso",n.datepicker("getDate").toISOString())}).each(function(){var t=$(this),n;try{n=Date.parse(t.attr("data-dateiso"));n&&t.datepicker("update",new Date(n))}catch(i){}});$.growl(!1,{element:"body",allow_dismiss:!0,placement:{from:"bottom",align:"right"},offset:20,spacing:10,z_index:1031,delay:6e3,timer:1e3,url_target:"_blank",mouse_over:!1,animate:{enter:"animated fadeDown in fast",exit:"animated fadeDown out fast"},icon_type:"class",template:'<div data-growl="container" class="alert" role="alert"> <button type="button" class="close" data-growl="dismiss">     <span aria-hidden="true">×<\/span>     <span class="sr-only">Close<\/span> <\/button> <span data-growl="icon"><\/span> <h4 data-growl="title"><\/h4> <span data-growl="message"><\/span> <a href="#" data-growl="url"><\/a> <\/div>'});$(".treeview").each(function(){var n=$(this);n.find(".active").length&&n.addClass("active")});$(".input-group.date .btn").on("click",function(n){n.preventDefault();var t=$(this);t.parent().siblings(".datepicker").trigger("focus")})});left_side_width=260;$(function(){"use strict";function n(){var n=$(window).height()-$("body > form > div .header").height()-($("body > form > div > .footer").outerHeight()||0),t;$(".wrapper").css("min-height",n+"px");t=$(".wrapper").height();t>n?$(".left-side, html, body").css("min-height",t+"px"):$(".left-side, html, body").css("min-height",n+"px")}$("[data-toggle='offcanvas']").click(function(n){n.preventDefault();$(window).width()<=992?($(".row-offcanvas").toggleClass("active"),$(".left-side").removeClass("collapse-left"),$(".right-side").removeClass("strech"),$(".row-offcanvas").toggleClass("relative")):($(".left-side").toggleClass("collapse-left"),$(".right-side").toggleClass("strech"))});$(".btn").bind("touchstart",function(){$(this).addClass("hover")}).bind("touchend",function(){$(this).removeClass("hover")});$("[data-toggle='tooltip']").tooltip();$("[data-widget='collapse']").click(function(){var n=$(this).parents(".box").first(),t=n.find(".box-body, .box-footer");n.hasClass("collapsed-box")?(n.removeClass("collapsed-box"),$(this).children(".fa-plus").removeClass("fa-plus").addClass("fa-minus"),t.slideDown()):(n.addClass("collapsed-box"),$(this).children(".fa-minus").removeClass("fa-minus").addClass("fa-plus"),t.slideUp())});$('.btn-group[data-toggle="btn-toggle"]').each(function(){var n=$(this);$(this).find(".btn").click(function(t){n.find(".btn.active").removeClass("active");$(this).addClass("active");t.preventDefault()})});$("[data-widget='remove']").click(function(){var n=$(this).parents(".box").first();n.slideUp()});$(".sidebar .treeview").tree();n();$(window).resize(function(){n();fix_sidebar()});fix_sidebar();$("input[type='checkbox']:not(.simple), input[type='radio']:not(.simple)").iCheck({checkboxClass:"icheckbox_minimal",radioClass:"iradio_minimal"}).on("ifChanged",function(){$(this).trigger("change")})});test=!0;$(function(){$("#FileBrowserModal").on("show.bs.modal",function(n){var r=$(n.relatedTarget),t=r.attr("data-callback"),i=$(this).find("iframe");t?i.attr("src","/FileBrowser/FileBrowser.aspx?caller=parent&fn="+t):i.attr("src","/FileBrowser/FileBrowser.aspx?caller=parent")})});$(function(){$("#btn_request_pwd").on("click",function(n){n.preventDefault();var t=$("#email").val(),i={email:t};$.getJSON("Ajax/PwdRequest.ashx",i).fail(function(n,t,i){bootbox.alert("Si è verificaro un errore: "+t+","+i)}).done(function(n){n.success?bootbox.alert("La tua password è stata inviata con successo alla tua casella di posta."):bootbox.alert("Errore: "+n.msg)})})});$(function(){$("#btn_change_pwd").on("click",function(n){var f;n.preventDefault();var t=$(this),i=$("#oldpwd").val(),r=$("#pwd").val(),u=$("#checkpwd").val();(i.length||r.length||u.length)&&(f={oldpwd:i,pwd:r,checkpwd:u},t.button("loading"),$.getJSON("Ajax/PdwChange.ashx",f).fail(function(n,t,i){$("#Modal_change_pwd .alert").text("Si è verificaro un errore: "+t+","+i).removeClass("alert-success").addClass("alert-danger").show()}).done(function(n){n.success?$("#Modal_change_pwd .alert").text(n.msg).removeClass("alert-danger").addClass("alert-success").show():$("#Modal_change_pwd .alert").text(n.msg).removeClass("alert-success").addClass("alert-danger").show()}).always(function(){t.button("reset").hide()}))});$("#Modal_change_pwd").on("hidden.bs.modal show.bs.modal",function(){var n=$(this);n.find(".alert").hide();n.find(".btn").show();n.find(":password").val("")})});$(function(){var n=function(){$.getJSON("Session/SessionHandler.ashx").fail(function(t,i,r){bootbox.hideAll();bootbox.alert("Si è verificaro un errore di rete: "+i+","+r,function(){setTimeout(n,2e3)})}).done(function(t){t.success?t.exitcode!=0?(bootbox.alert(t.msg),setTimeout(n,t.data*1e3+1e4)):setTimeout(n,12e4):(bootbox.hideAll(),bootbox.alert(t.msg,function(){window.location.reload()}))})};n()});$(function(){$("#LightBox").on("show.bs.modal",function(n){var f=$(this),s=$(n.relatedTarget),c=s.attr("data-source"),t=$(c).val(),r,h,u;t||(t=s.attr("data-url"));var e=f.find(".modal-title"),i=f.find(".modal-body"),o=f.children(".modal-dialog").removeClass("modal-lg modal-sm");t?(e.html(t),i.html(""),r=t.substr(t.lastIndexOf(".")).toLowerCase(),r==".jpeg"||r==".jpg"||r==".gif"||r==".png"?(h=$("<img />").addClass("img-responsive center-block").attr("src",t).appendTo(i),u=h[0],u.onload=function(){u.width<300?o.addClass("modal-sm"):u.width>600&&o.addClass("modal-lg")}):/<[a-z][\s\S]*>/i.test(t)?(e.html("Magic CMS"),$(t).addClass("text-center center-block").appendTo(i)):(o.addClass("modal-lg"),$('<iframe border="0" />').css({width:"100%",border:0,display:"block"}).height($(window).height()*.8).attr("src",t).appendTo(i))):(e.html("Errore"),i.html('<h4 class="text-center">Nessun contenuto da visualizzare.<\/h4>'))})});$(function(){var t=$("#map-dialog .map-canvas"),n=$("#geolocAddress"),i=n.siblings('input[type="hidden"]');t.height($(window).height()*.6).gmap3({map:{options:{center:"Roma Italy",zoom:17}},marker:{latLng:new google.maps.LatLng(0,0),options:{draggable:!0},events:{dragend:function(t){n.parent().spin();i.val(t.getPosition().toString());$(this).gmap3({getaddress:{latLng:t.getPosition(),callback:function(t){n.val(t?t[0].formatted_address||t[1].formatted_address:"nessun indirizzo");n.parent().spin(!1)}}})}}}});$("#map-dialog").on("shown.bs.modal",function(i){var u,r,s;t.height($(window).height()*.6);u=t.gmap3("get");google.maps.event.trigger(u,"resize");var f=$(this),o=$(i.relatedTarget),e=o.attr("data-source");f.attr("data-souce",e);r=$(e).val();s=f.find(".modal-title");r=r||"Roma Italy";n.val(r);$('[data-action="geo-search"]').trigger("click")}).on("hide.bs.modal",function(){var n=$(this).attr("data-souce"),t=$("#geolocAddress"),i=t.siblings('input[type="hidden"]');$(n).val(i.val()).change()});$('[data-action="geo-search"]').on("click",function(n){n.preventDefault();var u=$(this),i=$("#map-canvas"),f=u.attr("data-source"),t=$(f),e=t.siblings('input[type="hidden"]'),r=t.val();t.parent().spin();i.gmap3({getlatlng:{address:r,callback:function(n){var u,o,f;if(!n){t.val("Impossibile calcolare la locazione. Prova a specificare meglio l'indirizzo");return}t.val(r);u=new google.maps.LatLng(n[0].geometry.location.lat(),n[0].geometry.location.lng());e.val(u.toString());o=i.gmap3("get");f=i.gmap3({get:{name:"marker",first:!0,all:!1}});o&&o.setCenter(u);f&&f.setPosition(u);google.maps.event.trigger(f,"dragend");t.parent().spin(!1)}}})})}),function(n){n.mb_selectnode=function(t,i,r,u){for(var f,e=0;e<r.length;e++)f=r[e],f.a_attr["data-pk"]==i&&(u?t.select_node(f):t.deselect_node(f)),f.children.length&&n.mb_selectnode(t,i,f.children,u)}}(jQuery);$(function(){$("#checkboxed-types-modal").on("shown.bs.modal",function(n){var t=$(this),r=$(n.relatedTarget),u=t.find(".modal-title"),i=t.find(".modal-body");t.data("target-selector",r.attr("data-selector"));i.css("min-height","120px").spin().load("Ajax/GetTypesCheckboxed.ashx",function(){i.spin(!1).css("min-height",0).find(":checkbox").iCheck({checkboxClass:"icheckbox_minimal"})})});$('#checkboxed-types-modal button[data-action="get-list"]').on("click",function(){var n=$("#checkboxed-types-modal"),i=n.data("target-selector"),e=$(this),r=$(i),u=n.find(".modal-body"),f=u.find(":checkbox:checked"),t=[];f.each(function(){t.push($(this).val())});r.val(t.join(",")).change()})});
/*
//# sourceMappingURL=app.min.js.map
*/